{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wsuwp-plugin-embed-codes/./blocks/block-embed-codes/editor/block.js","webpack://wsuwp-plugin-embed-codes/./blocks/block-embed-codes/editor/edit.js","webpack://wsuwp-plugin-embed-codes/./blocks/block-embed-codes/editor/_style.scss","webpack://wsuwp-plugin-embed-codes/external window [\"wp\",\"apiFetch\"]","webpack://wsuwp-plugin-embed-codes/external window [\"wp\",\"blockEditor\"]","webpack://wsuwp-plugin-embed-codes/external window [\"wp\",\"components\"]","webpack://wsuwp-plugin-embed-codes/external window [\"wp\",\"element\"]","webpack://wsuwp-plugin-embed-codes/webpack/bootstrap","webpack://wsuwp-plugin-embed-codes/webpack/runtime/compat get default export","webpack://wsuwp-plugin-embed-codes/webpack/runtime/define property getters","webpack://wsuwp-plugin-embed-codes/webpack/runtime/hasOwnProperty shorthand","webpack://wsuwp-plugin-embed-codes/webpack/runtime/make namespace object"],"sourcesContent":["const { registerBlockType } = wp.blocks;\r\n\r\nimport Edit from \"./edit\";\r\n\r\nregisterBlockType(\"wsuwp/embed-code\", {\r\n  title: \"WSU Embed Code\",\r\n  icon: \"menu\",\r\n  apiVersion: 2,\r\n  category: \"text\",\r\n  attributes: {\r\n    embedId: {\r\n      type: \"string\",\r\n      default: \"\",\r\n    },\r\n    embedTitle: {\r\n        type: \"string\",\r\n        default: \"\",\r\n    },\r\n    url: {\r\n        type: \"string\",\r\n        default: \"\",\r\n    },\r\n    isIframe: {\r\n      type: \"boolean\",\r\n      default: false,\r\n    },\r\n    isIframe: {\r\n        type: \"boolean\",\r\n        default: false,\r\n    },\r\n    iframeTitle: {\r\n        type: \"string\",\r\n        default: \"\",\r\n    },\r\n    iframeWidth: {\r\n        type: \"string\",\r\n        default: \"100%\",\r\n    },\r\n    iframeHeight: {\r\n        type: \"string\",\r\n        default: \"800px\",\r\n    },\r\n    wrap: {\r\n        type: \"boolean\",\r\n        default: false,\r\n    },\r\n    \r\n  },\r\n  edit: Edit,\r\n});","import React, { useState, useEffect } from \"@wordpress/element\";\r\nimport apiFetch from \"@wordpress/api-fetch\";\r\nimport { InnerBlocks, InspectorControls, useBlockProps, InspectorAdvancedControls, } from \"@wordpress/block-editor\";\r\nimport {\r\n  TextControl,\r\n  SelectControl,\r\n  BaseControl,\r\n  ToggleControl,\r\n  PanelBody,\r\n} from \"@wordpress/components\";\r\n\r\nimport \"./_style.scss\";\r\n\r\nconst edit = (props) => {\r\n  const { className, attributes, setAttributes } = props;\r\n  const blockProps = useBlockProps({\r\n    className: \"wsu-embed-code\",\r\n    style: {},\r\n  });\r\n  const [embedCodes, setEmbedCodes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    apiFetch({ path: \"/wp/v2/wsuwp_embed_code/?per_page=50\" }).then((response) => {\r\n\r\n        const embedCodes = response;\r\n\r\n        if ( embedCodes ) {\r\n            const options = embedCodes.map( ( embedCode ) => {\r\n            return { label: embedCode.title.rendered, value: embedCode.id, url: embedCode.link };\r\n        });\r\n\r\n        options.push( { label: 'None', value: '' } )\r\n\r\n        setEmbedCodes( options );\r\n      }\r\n    });\r\n  }, []);\r\n\r\n\r\n  const setEmbedAttributes = ( embedId ) => {\r\n\r\n    let embedCode = false;\r\n\r\n    if ( embedCodes ) {\r\n\r\n        embedCodes.forEach( ( embed ) => { if ( embedId == embed.value ) { embedCode = embed } } )\r\n\r\n    }\r\n\r\n    if ( embedCode ) {\r\n\r\n        setAttributes( { embedId } );\r\n\r\n        setAttributes( { embedTitle: embedCode.label } );\r\n\r\n        setAttributes( { url: embedCode.url } );\r\n\r\n    }\r\n\r\n  }\r\n\r\n  console.log( wp.data.select( 'core' ).getSite() )\r\n\r\n  return (\r\n    <>\r\n      <InspectorControls>\r\n        <PanelBody title=\"General\" initialOpen={true}>\r\n            <SelectControl\r\n                label=\"Embed Code to Display\"\r\n                value={ attributes.embedId }\r\n                options={ embedCodes }\r\n                onChange={ ( embedId ) => setEmbedAttributes( embedId )}\r\n            />\r\n           { ! attributes.isIframe && <ToggleControl\r\n                label='Wrap Embed Code'\r\n                checked={ ( attributes.wrap ) }\r\n                onChange={ ( wrap ) => setAttributes( { wrap } )  }\r\n                help={ 'Adds a div wrapper with additional classes to embed code'}\r\n            /> }\r\n            { ! attributes.wrap && <ToggleControl\r\n                label='Iframe Embed Code'\r\n                checked={ ( attributes.isIframe ) }\r\n                onChange={ ( isIframe ) => setAttributes( { isIframe } )  }\r\n                help={ 'Display embed code in Iframe'}\r\n            /> }\r\n            { attributes.isIframe && <>\r\n                <TextControl\r\n                    label=\"Iframe Title\"\r\n                    value={ attributes.iframeTitle }\r\n                    onChange= { ( Title ) => setAttributes( { Title } ) }\r\n                    help='All Iframes must have a title attribute'\r\n                />\r\n                <TextControl\r\n                    label=\"Iframe Width\"\r\n                    value={ attributes.iframeWidth }\r\n                    onChange= { ( iframeWidth ) => setAttributes( { iframeWidth } ) }\r\n                />\r\n                <TextControl\r\n                    label=\"Iframe Height\"\r\n                    value={ attributes.iframeHeight }\r\n                    onChange= { ( iframeHeight ) => setAttributes( { iframeHeight } ) }\r\n                />\r\n            </>\r\n            }\r\n        </PanelBody>\r\n      </InspectorControls>\r\n      <InspectorAdvancedControls>\r\n        \r\n\t</InspectorAdvancedControls>\r\n      <div {...blockProps}>\r\n      { attributes.embedId && <><div className=\"wsu-embed-code-block__selected\">\r\n            <div className=\"wsu-embed-code-block__heading\">Embed Code</div>\r\n            <div className=\"wsu-embed-code-block__title\">: { attributes.embedTitle }</div>\r\n        </div>\r\n        </>\r\n      }\r\n        { ! attributes.embedId && <SelectControl\r\n            label=\"Select Embed Code\"\r\n            value={ attributes.embedId }\r\n            options={ embedCodes }\r\n            onChange={ ( embedId ) => setEmbedAttributes( embedId )}\r\n          />\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default edit;\r\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["registerBlockType","wp","blocks","Edit","title","icon","apiVersion","category","attributes","embedId","type","default","embedTitle","url","isIframe","iframeTitle","iframeWidth","iframeHeight","wrap","edit","React","useState","useEffect","apiFetch","InnerBlocks","InspectorControls","useBlockProps","InspectorAdvancedControls","TextControl","SelectControl","BaseControl","ToggleControl","PanelBody","props","className","setAttributes","blockProps","style","embedCodes","setEmbedCodes","path","then","response","options","map","embedCode","label","rendered","value","id","link","push","setEmbedAttributes","forEach","embed","console","log","data","select","getSite","createElement","Fragment","initialOpen","onChange","checked","help","Title"],"sourceRoot":""}